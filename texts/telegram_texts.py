"""
–¢–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram.
"""

# ==== –ö–û–ú–ê–ù–î–ê /start ====
def get_start_text(user_name: str) -> str:
    return f"–ü—Ä–∏–≤–µ—Ç, {user_name}! üëã\n–Ø –±–æ—Ç –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ –ö–ë–ñ–£.\n–ù–∞–ø–∏—à–∏, —á—Ç–æ —Ç—ã —Å—ä–µ–ª, –∏ —è –ø–æ—Å—á–∏—Ç–∞—é –∫–∞–ª–æ—Ä–∏–∏ –∏ –Ω—É—Ç—Ä–∏–µ–Ω—Ç—ã!"

# ==== –ö–û–ú–ê–ù–î–ê /help ====
HELP_TEXT = """
ü§ñ <b>–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:</b>
/start - –ù–∞—á–∞—Ç—å –¥–∏–∞–ª–æ–≥
/help - –ü–æ–ª—É—á–∏—Ç—å —Å–ø—Ä–∞–≤–∫—É
/nextday - –°–æ–∑–¥–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å (–≤—Ä—É—á–Ω—É—é)
/dayresult - –ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–ø–∏—Å–∏ –∏ –∏—Ç–æ–≥–∏ –∑–∞ —Ç–µ–∫—É—â–∏–π –¥–µ–Ω—å
/timezone - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å

üí° <b>–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:</b>
1. –ù–∞–ø–∏—à–∏ —á—Ç–æ —Ç—ã —Å—ä–µ–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–ì–æ—Ä–æ—Ö–æ–≤—ã–π —Å—É–ø –∏ 2 —è–±–ª–æ–∫–∞")
2. –Ø –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É—é —Ç–µ–∫—Å—Ç –∏ –ø–æ—Å—á–∏—Ç–∞—é –ö–ë–ñ–£ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –±–ª—é–¥–∞
3. –ó–∞–ø–∏—Å–∏ –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –ø–æ –¥–Ω—è–º
4. –ù–æ–≤—ã–π –¥–µ–Ω—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –≤ 4:00 —É—Ç—Ä–∞ –ø–æ –≤–∞—à–µ–º—É —á–∞—Å–æ–≤–æ–º—É –ø–æ—è—Å—É
5. –ò—Å–ø–æ–ª—å–∑—É–π /nextday —á—Ç–æ–±—ã –≤—Ä—É—á–Ω—É—é –Ω–∞—á–∞—Ç—å –Ω–æ–≤—ã–π –¥–µ–Ω—å
6. –ò—Å–ø–æ–ª—å–∑—É–π /dayresult —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Ç–æ–≥–∏ –∑–∞ –¥–µ–Ω—å
7. –ò—Å–ø–æ–ª—å–∑—É–π /timezone —á—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–≤–æ–π —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä: /timezone Europe/Moscow)
"""

# ==== –û–ë–†–ê–ë–û–¢–ö–ê –°–û–û–ë–©–ï–ù–ò–ô (AI) ====
def get_processing_text() -> str:
    return "üß† –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –≤–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..."

def get_food_entries_saved_text(day_number: int, dishes: list, start_index: int = 0) -> str:
    """–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç –æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –±–ª—é–¥–∞—Ö —Å —Å–∫–≤–æ–∑–Ω–æ–π –Ω—É–º–µ—Ä–∞—Ü–∏–µ–π"""
    response = f"‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ –î–µ–Ω—å {day_number}!\n\n"
    
    # –°—á–∏—Ç–∞–µ–º —Å—É–º–º—ã –¥–ª—è –∏—Ç–æ–≥–æ–≤
    total_calories = 0
    total_protein = 0
    total_fat = 0
    total_carbs = 0
    
    for i, dish in enumerate(dishes, 1):
        dish_number = start_index + i
        response += f"{dish_number}. {dish['name']}\n"
        response += f"{dish['calories']} –∫–∫–∞–ª, {dish['protein']} –±–µ–ª–∫–æ–≤, {dish['fat']} –∂–∏—Ä–æ–≤, {dish['carbs']} —É–≥–ª–µ–≤–æ–¥–æ–≤\n\n"
        
        # –°—É–º–º–∏—Ä—É–µ–º –∑–Ω–∞—á–µ–Ω–∏—è
        total_calories += dish['calories']
        total_protein += dish['protein']
        total_fat += dish['fat']
        total_carbs += dish['carbs']
    
    response += f"–í—Å–µ–≥–æ:\n{total_calories} –∫–∫–∞–ª, {total_protein} –±–µ–ª–∫–æ–≤, {total_fat} –∂–∏—Ä–æ–≤, {total_carbs} —É–≥–ª–µ–≤–æ–¥–æ–≤"
    return response

AI_ERROR_TEXT = "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞–ø—Ä–æ—Å. –ò—Å–ø–æ–ª—å–∑—É—é –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è."

# ==== –ö–û–ú–ê–ù–î–ê /nextday ====
def get_nextday_success_text(day_number: int) -> str:
    return (
        f"‚úÖ –°–æ–∑–¥–∞–Ω –î–µ–Ω—å {day_number}!\n"
        f"–¢–µ–ø–µ—Ä—å –≤—Å–µ –∑–∞–ø–∏—Å–∏ –æ –µ–¥–µ –±—É–¥—É—Ç –æ—Ç–Ω–æ—Å–∏—Ç—å—Å—è –∫ —ç—Ç–æ–º—É –¥–Ω—é.\n"
        f"–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /dayresult —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–ø–∏—Å–∏ –∑–∞ –¥–µ–Ω—å."
    )

NEXTDAY_ERROR_TEXT = "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –¥–µ–Ω—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ."

# ==== –ö–û–ú–ê–ù–î–ê /dayresult ====
def get_dayresult_no_entries_text(day_number: int) -> str:
    return (
        f"üì≠ –í –î–Ω–µ {day_number} –µ—â—ë –Ω–µ—Ç –∑–∞–ø–∏—Å–µ–π –æ –µ–¥–µ.\n"
        f"–ù–∞–ø–∏—à–∏—Ç–µ —á—Ç–æ-–Ω–∏–±—É–¥—å, –∏ —è —Å–æ—Ö—Ä–∞–Ω—é —ç—Ç–æ!"
    )

DAYRESULT_ERROR_TEXT = "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥–Ω–µ."

def get_dayresult_text(day_number: int, entries: list, totals: dict) -> str:
    """–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∑–∞–ø–∏—Å–∏ –∑–∞ –¥–µ–Ω—å —Å –∏—Ç–æ–≥–∞–º–∏"""
    response = f"üìä <b>–î–µ–Ω—å {day_number}</b>\n\n"
    
    for i, (entry_id, dish_name, calories, protein, fat, carbs) in enumerate(entries, 1):
        response += f"{i}. {dish_name}\n"
        response += f"{calories} –∫–∫–∞–ª, {protein} –±–µ–ª–∫–æ–≤, {fat} –∂–∏—Ä–æ–≤, {carbs} —É–≥–ª–µ–≤–æ–¥–æ–≤\n\n"
    
    if totals['count'] > 0:
        response += f"/ –ò—Ç–æ–≥–æ\n"
        response += f"{totals['calories']} –∫–∫–∞–ª, {totals['protein']} –±–µ–ª–∫–æ–≤, {totals['fat']} –∂–∏—Ä–æ–≤, {totals['carbs']} —É–≥–ª–µ–≤–æ–¥–æ–≤\n"
        response += f"–í—Å–µ–≥–æ –±–ª—é–¥: {totals['count']}"
    
    return response

# ==== –ö–û–ú–ê–ù–î–ê /timezone ====
def get_timezone_info_text(current_timezone: str) -> str:
    return (
        f"üïê <b>–¢–µ–∫—É—â–∏–π —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å:</b> {current_timezone}\n\n"
        f"–ß—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:\n"
        f"/timezone <–Ω–∞–∑–≤–∞–Ω–∏–µ_—á–∞—Å–æ–≤–æ–≥–æ_–ø–æ—è—Å–∞>\n\n"
        f"<b>–ü—Ä–∏–º–µ—Ä—ã:</b>\n"
        f"‚Ä¢ /timezone Europe/Moscow\n"
        f"‚Ä¢ /timezone America/New_York\n"
        f"‚Ä¢ /timezone Asia/Tokyo\n"
        f"‚Ä¢ /timezone Europe/London\n\n"
        f"üí° –ù–æ–≤—ã–π –¥–µ–Ω—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –≤ 4:00 —É—Ç—Ä–∞ –ø–æ –≤–∞—à–µ–º—É —á–∞—Å–æ–≤–æ–º—É –ø–æ—è—Å—É.\n"
        f"–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∑–¥–Ω–∏–π —É–∂–∏–Ω –≤ —Ç–µ–∫—É—â–∏–π –¥–µ–Ω—å."
    )

def get_timezone_set_text(timezone: str) -> str:
    return (
        f"‚úÖ –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: {timezone}\n\n"
        f"–ù–æ–≤—ã–π –¥–µ–Ω—å –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è –≤ 4:00 —É—Ç—Ä–∞ –ø–æ —ç—Ç–æ–º—É —á–∞—Å–æ–≤–æ–º—É –ø–æ—è—Å—É."
    )

TIMEZONE_INVALID_TEXT = (
    "‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å.\n\n"
    "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä:\n"
    "‚Ä¢ Europe/Moscow\n"
    "‚Ä¢ America/New_York\n"
    "‚Ä¢ Asia/Tokyo\n\n"
    "–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–æ–≤: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones"
)

TIMEZONE_ERROR_TEXT = "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ."

# ==== –û–®–ò–ë–ö–ò ====
DATABASE_ERROR_TEXT = "‚ùå –û—à–∏–±–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ."
